#version 330

in vec2 otexPos;
in vec3 onormal;

uniform sampler2D texSampler;
uniform vec3 sunDirection;

out vec4 out_color;

float diff() {
	vec3 norm = normalize(onormal);
	vec3 lightDir = normalize(sunDirection);
	return -max(dot(norm, lightDir), 0.0);
}

void main(){
	vec4 ambient = texture(texSampler, otexPos);
	if(ambient.w == 0) discard;
	out_color = vec4(ambient.xyz * vec3(mix(0.8,1.2,diff())), ambient.w);

	
}