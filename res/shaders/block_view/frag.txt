#version 330

in vec2 otexPos;
in vec3 opos;

uniform sampler2D texSampler;

out vec4 out_color;

float random() {
	return clamp((opos.x + opos.y + opos.z) / 6.0, 0.0, 1.0);
}

void main(){
	vec4 ambient = texture(texSampler, otexPos);
	if(ambient.w == 0) discard;
	out_color = vec4(ambient.xyz * vec3(mix(0.7,1.0,1 - random())), ambient.w);

	
}